#ifndef SNAKE_H_CONTROLS
#define SNAKE_H_CONTROLS

#include <curses.h>

void gameLoop(void *data)
{
    halfdelay(10);

    GameData *gd = data;
    
    vector curmov;
    while (gd->checkcol(gd->S))
    {
        curmov.x = 0;
	curmov.y = 0;
	int mov = wgetch(Game.main->wptr);
	switch(mov)
	{
	case KEY_LEFT:	
	    curmov.y = -1;
	    break;
	case KEY_RIGHT:
	    curmov.y = 1;
	    break;
	case KEY_UP:
	    curmov.x = -1;
	    break;
	case KEY_DOWN:
	    curmov.x = 1;
	    break;
	default:
	    break;
	}

	if (S->direction.y != curmov.y * -1 && S->direction.x != curmov.x * -1 && (curmov.x || curmov.y))
	{
	    S->direction.y = curmov.y;
	    S->direction.x = curmov.x;
	}
	
    }
    
}
