#ifndef SNAKE_H_WINDOWS
#define SNAKE_H_WINDOWS

#include <curses.h>
#include "snake.h"

typedef struct winhandle
{
    WINDOW *wptr;
    unsigned w, h, y, x;
    void (*display)(struct winhandle *, void *);
} WindowHandle;

void display_aux_game(WindowHandle *this, void *data)
{
    mvwprintw(this->wptr, 0, 0, "Snake Demo\tScore: %u", *(unsigned *)data);
    wrefresh(this->wptr);
}

void display_main_game(WindowHandle *this, void *data)
{
    GameData *gd = (GameData *)data;

    for (dnptr cell = gd->S->snk->head; cell; cell = cell->next)
    {
	mvwaddch(this->wptr, cell->d->y, cell->d->x, 'o');
    }

    mvwaddch(this->wptr, gd->food.y, gd->food.x, '*');
    wrefresh(this->wptr);
}

#endif
